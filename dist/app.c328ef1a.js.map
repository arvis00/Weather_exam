{"version":3,"sources":["http/http.js","http/endpoints.js","view/elements.js","localStorage.js","view/views.js","view/effects.js","app.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["getWeather","url","fetch","then","r","json","weatherId","units","gifId","endpoint","getByCityName","city","endpointCoordOpenWeather","getByCoord","lat","lon","gifEndpoint","getByWeatherCondition","condition","gifStaticEndpoint","forecastEndpoint","ELEMENTS","output","document","querySelector","form","submit","loader","containerHeight","cardsHeight","refresh","saveToLocalStorage","userID","cards","arrJson","JSON","stringify","localStorage","setItem","getCardsFromLocalStorage","getItem","parse","renderCards","innerHTML","forEach","card","main","weather","name","weatherCond","gifUrl","forecastUrl","date","Date","template","id","Math","round","temp","feels_like","description","humidity","retrieved","insertAdjacentHTML","singleCard2","singleCont","overlay","overlayText","deleteBtn","style","width","padding","margin","position","top","left","bottom","background","opacity","transition","borderRadius","onmouseenter","filter","display","onmouseleave","textContent","fetchGif","addEventListener","deleteCard","item","window","deletedBtn","response","result","gifResult","catch","error","console","log","finalResult","gifUrlResult","data","images","fixed_height_small","urlString","singleCard","backgroundImage","backgroundSize","backgroundRepeat","pressOverlay","fetchForecast","forecastResult","list","splice","dayOfWeek","dayNumber","timeStampId","undefined","listChunks","dt","a","days","getDay","reduce","value","index","length","concat","push","forecastTemp","dayIcon","iconCode","threeHours","dt_txt","hour","getHours","icon","dayDescr","desc","templateForecast","modal","getElementById","span","getElementsByClassName","onclick","event","target","nav","portfolio","scrollY","height","myRefreshFunction","getLocation","objBtn","deleted","setDeletedTrue","setDeletedFalse","changeUser","signOut","proceed","promptResult","prompt","alert","myRefresh","called","showMoreBtn","show","offsetHeight","e","submitMe","preventDefault","path","elements","cityName","check","find","toLowerCase","trim","urlWeather","fetchCity","reset","submitBtn","secondsBetweenActions","secondsRemaining","setInterval","updateStatus","enabled","timer","cod","Error","message","getTime","toLocaleString","latitude","longitude","navigator","geolocation","getCurrentPosition","SendLocation","coords","urlCoord","fetchCoord","coordResult","body","createElement","className","appendChild","locCond","locTemp","locDesc","locCity","rain","clear","clouds","currentTemp","currentDesc","src","currentCity","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","createErrorOverlay","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const getWeather = (url) => {\n    return fetch(url)\n      .then(r => r.json())\n  };\n  \n  \n  export { getWeather };\n  \n  ","const weatherId = \"790dff15e5ecdde73da819196a127634\";\nconst units = \"metric\";\nconst gifId = \"6LkxF8Jv5CrI70LWPSHapYnfCiU40Hfh\";\n\nconst endpoint = {\n  getByCityName: function(city) {\n    return `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${units}&appid=${weatherId}`;\n  }\n};\n\nconst endpointCoordOpenWeather = {\n  getByCoord: function(lat, lon) {\n    return `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=${units}&appid=${weatherId}`;\n  }\n};\n\nconst gifEndpoint = {\n  getByWeatherCondition: function(condition) {\n    return `http://api.giphy.com/v1/gifs/random?api_key=${gifId}&tag=${condition}`;\n  }\n};\n\nconst gifStaticEndpoint = {\n  getByWeatherCondition: function(condition) {\n    return `http://api.giphy.com/v1/stickers/random?api_key=${gifId}&tag=${condition}`;\n  }\n};\n\nconst forecastEndpoint = {\n  getByCityName: function(city) {\n    return `http://api.openweathermap.org/data/2.5/forecast?q=${city}&units=${units}&appid=${weatherId}`;\n  }\n};\n\nexport {\n  endpoint,\n  gifEndpoint,\n  gifStaticEndpoint,\n  forecastEndpoint,\n  endpointCoordOpenWeather\n};\n","const ELEMENTS = {\n  output: document.querySelector(\".cards\"),\n  form: document.querySelector(\".controller\"),\n  submit: document.querySelector('[type=\"submit\"]'),\n  loader: document.querySelector(\".loading\"),\n  containerHeight: document.querySelector(\".cards-container\"),\n  cardsHeight: document.querySelector(\".cards\"),\n  refresh: document.querySelector(\".refresh\")\n};\n\nexport { ELEMENTS };\n","const saveToLocalStorage = (userID, cards) => {\n  const arrJson = JSON.stringify(cards);\n  localStorage.setItem(userID, arrJson);\n};\n\nconst getCardsFromLocalStorage = userID => localStorage.getItem(userID) ? JSON.parse(localStorage.getItem(userID)) : [];\n\n\nexport { saveToLocalStorage, getCardsFromLocalStorage };\n","import { ELEMENTS } from \"./elements\";\nimport { saveToLocalStorage } from \"/localStorage\";\nimport { gifEndpoint, forecastEndpoint } from \"/http/endpoints\";\nimport { setDeletedTrue } from \"/app\";\n\nconst { output } = ELEMENTS;\n\nconst renderCards = (userID, cards) => {\n  output.innerHTML = \"\";\n  cards.forEach(card => {\n    const { main, weather, name } = card;\n\n    let weatherCond = weather[0].main;\n    if (weatherCond === \"Clear\") {\n      weatherCond = \"Sky\";\n    }\n    const gifUrl = gifEndpoint.getByWeatherCondition(weatherCond);\n    const forecastUrl = forecastEndpoint.getByCityName(name);\n\n    const date = new Date();\n    const template = `\n    <div class='singleCont${card.id}'>\n        <div class='singleCard${card.id}' id='singleCard'>\n            <h2><span>${card.name}</span></h2>\n            <p><span>Temperature: ${Math.round(main.temp)} &#8451;</span></p>\n            <p><span>Feels like: ${Math.round(\n              main.feels_like\n            )} &#8451;</span></p>\n            <p><span>Description: ${weather[0].description}</span></p>\n            <p><span>Humidity: ${main.humidity}%</span></p>\n            <p><span>${card.retrieved}</span></p>\n        </div>\n        <button class=delete${card.id}>\n            <span class=\"line\"></span>\n            <span class=\"line\"></span>\n        </button>\n        <div class=\"overlay${card.id}\">\n        <h1>See the forecast</h1>\n        </div>\n    </div>\n    `;\n\n    output.insertAdjacentHTML(\"afterbegin\", template);\n    const singleCard2 = document.querySelector(`[class^='singleCard']`);\n    const singleCont = document.querySelector(`[class^='singleCont']`);\n    const overlay = document.querySelector(`[class^='overlay']`);\n    const overlayText = document.querySelector(`[class^='overlay'] h1`);\n    const deleteBtn = document.querySelector(`.delete${card.id}`);\n    overlay.style.width = \"249px\";\n    overlay.style.padding = \"18px\";\n    overlay.style.margin = \"6px\";\n    overlay.style.position = \"absolute\";\n    overlay.style.top = \"0\";\n    overlay.style.left = \"0\";\n    overlay.style.bottom = \"0\";\n    overlay.style.background = \"rgba(12, 98, 226, 0.678)\";\n    overlay.style.opacity = \"0\";\n    overlay.style.transition = \".3s all\";\n    overlay.style.borderRadius = \"12px\";\n    singleCont.onmouseenter = function() {\n      singleCard2.style.filter = \"blur(2px)\";\n      overlay.style.opacity = \"1\";\n      deleteBtn.style.display = \"block\";\n    };\n\n    singleCont.onmouseleave = function() {\n      singleCard2.style.filter = \"blur(0px)\";\n      overlay.style.opacity = \"0\";\n      deleteBtn.style.display = \"none\";\n    };\n\n    deleteBtn.onmouseenter = function() {\n      overlay.style.background = \"rgba(245, 4, 4, 0.678)\";\n      overlayText.textContent = \"Remove city\";\n    };\n\n    deleteBtn.onmouseleave = function() {\n      overlay.style.background = \"rgba(12, 98, 226, 0.678)\";\n      overlayText.textContent = \"See the forecast\";\n    };\n\n    fetchGif(gifUrl);\n    // saveToLocalStorage(userID, cards);\n\n    deleteBtn.addEventListener(\"click\", function() {\n      deleteCard();\n    });\n\n    function deleteCard() {\n      cards = cards.filter(item => {\n        return item.id !== card.id;\n      });\n\n      setDeletedTrue();\n      window.deletedBtn = true;\n      saveToLocalStorage(userID, cards);\n      renderCards(userID, cards);\n    }\n\n    function fetchGif(url) {\n      fetch(url)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(result) {\n          gifResult(result);\n        })\n        .catch(error => {\n          console.log(\"klaida\", error);\n        });\n    }\n\n    function gifResult(finalResult) {\n      const gifUrlResult = finalResult.data.images.fixed_height_small.url;\n      const urlString = `url('${gifUrlResult}')`;\n        const singleCard = document.querySelector(`.singleCard${card.id}`);\n        \n      singleCard.style.backgroundImage = urlString;\n      singleCard.style.backgroundSize = \"cover\";\n      singleCard.style.backgroundRepeat = \"no-repeat\";\n    }\n\n    const pressOverlay = document.querySelector(`.overlay${card.id}`);\n\n    pressOverlay.addEventListener(\"click\", function() {\n      fetchForecast(forecastUrl);\n    });\n\n    function fetchForecast(url) {\n      fetch(url)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(result) {\n          forecastResult(result);\n        })\n        .catch(error => {\n          console.log(\"klaida\", error);\n        });\n    }\n\n    function forecastResult(result) {\n      console.log(result);\n      const { list } = result;\n      list.splice(0, 1);\n\n      const dayOfWeek = (dayNumber, timeStampId) => {\n        dayNumber != undefined\n          ? (timeStampId = listChunks[dayNumber][0].dt)\n          : timeStampId;\n        const a = new Date(timeStampId * 1000);\n        const days = [\n          \"Sunday\",\n          \"Monday\",\n          \"Tuesday\",\n          \"Wednesday\",\n          \"Thursday\",\n          \"Friday\",\n          \"Saturday\"\n        ];\n        const dayOfWeek = days[a.getDay()];\n        return dayOfWeek;\n      };\n\n      const listChunks = list.reduce(function(result, value, index) {\n        if (\n          !index ||\n          dayOfWeek(undefined, result[result.length - 1][0].dt) !==\n            dayOfWeek(undefined, value.dt)\n        ) {\n          return result.concat([[value]]);\n        }\n        result[result.length - 1].push(value);\n        return result;\n      }, []);\n      console.log(listChunks);\n\n      const forecastTemp = dayNumber => {\n        const temp = Math.round(\n          listChunks[dayNumber].reduce((result, value) => {\n            return result + value.main.temp;\n          }, 0) / listChunks[dayNumber].length\n        );\n        return temp;\n      };\n\n      const dayIcon = dayNumber => {\n        let iconCode;\n        listChunks[dayNumber].forEach(threeHours => {\n          const a = new Date(threeHours.dt_txt);\n          const hour = a.getHours();\n          if (hour === 12) {\n            iconCode = threeHours.weather[0].icon;\n          }\n        });\n        if (!iconCode) {\n          iconCode =\n            listChunks[dayNumber][listChunks[dayNumber].length - 1].weather[0]\n              .icon;\n        }\n        return `http://openweathermap.org/img/wn/${iconCode}@2x.png`;\n      };\n\n      const dayDescr = dayNumber => {\n        let desc;\n        listChunks[dayNumber].forEach(threeHours => {\n          const a = new Date(threeHours.dt_txt);\n          const hour = a.getHours();\n          if (hour === 12) {\n            desc = threeHours.weather[0].description;\n          }\n        });\n        if (!desc) {\n          desc =\n            listChunks[dayNumber][listChunks[dayNumber].length - 1].weather[0]\n              .description;\n        }\n\n        return desc;\n      };\n\n      const templateForecast = `\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-content\">\n                <span class=\"close\">&times;</span>\n                <h2>Weather forecast</h2>\n                <div class='daysList'>\n                    <div>\n                        <p>${dayOfWeek(0)}</p>\n                        <img src=${dayIcon(0)}>\n                        <p>${forecastTemp(0)}&#8451;</p>\n                        <p>${dayDescr(0)}</p>\n                    </div>\n                    <div>\n                        <p>${dayOfWeek(1)}</p>\n                        <img src=${dayIcon(1)}>\n                        <p>${forecastTemp(1)}&#8451;</p>\n                        <p>${dayDescr(1)}</p>\n                    </div>\n                    <div>\n                        <p>${dayOfWeek(2)}</p>\n                        <img src=${dayIcon(2)}>\n                        <p>${forecastTemp(2)}&#8451;</p>\n                        <p>${dayDescr(2)}</p>\n                    </div>\n                    <div>\n                        <p>${dayOfWeek(3)}</p>\n                        <img src=${dayIcon(3)}>\n                        <p>${forecastTemp(3)}&#8451;</p>\n                        <p>${dayDescr(3)}</p>\n                    </div>\n                    <div>\n                        <p>${dayOfWeek(4)}</p>\n                        <img src=${dayIcon(4)}>\n                        <p>${forecastTemp(4)}&#8451;</p>\n                        <p>${dayDescr(4)}</p>\n                    </div>\n                </div>    \n            </div>\n        </div>\n        `;\n\n      output.insertAdjacentHTML(\"afterend\", templateForecast);\n      const modal = document.getElementById(\"myModal\");\n      const span = document.getElementsByClassName(\"close\")[0];\n      modal.style.display = \"block\";\n\n      span.onclick = function() {\n        modal.style.display = \"none\";\n      };\n      window.onclick = function(event) {\n        if (event.target == modal) {\n          modal.style.display = \"none\";\n        }\n      };\n    }\n  });\n  saveToLocalStorage(userID, cards);\n};\n\nexport { renderCards };\n","const nav = document.querySelector(\"nav\");\nconst portfolio = document.querySelector(\".portfolio\");\nwindow.addEventListener(\"scroll\", () => {\n  if (window.scrollY > 0) {\n    nav.style.height = \"50px\";\n  } else {\n    nav.style.height = \"60px\";\n  }\n});\n","import { getWeather } from \"./http/http\";\nimport {\n  endpoint,\n  endpointCoordOpenWeather\n} from \"./http/endpoints\";\nimport { ELEMENTS } from \"./view/elements\";\nimport { renderCards } from \"./view/views\";\nimport \"./view/effects.js\";\nimport { saveToLocalStorage, getCardsFromLocalStorage } from \"./localStorage\";\nimport rain from \"./img/rain.jpg\";\nimport clear from \"./img/clear-sky.png\";\nimport clouds from \"./img/clouds.jpg\";\n\nlet cards = [];\nmyRefreshFunction()\n  \ngetLocation();\n\nconst objBtn = {\n  deleted: false\n};\n\nconst setDeletedTrue = () => {\n  objBtn.deleted = true;\n};\nconst setDeletedFalse = () => {\n  objBtn.deleted = false;\n};\n\nexport { setDeletedTrue };\n\nlet userID = \"default\";\nconst { form, submit, loader, refresh } = ELEMENTS;\n\nconst changeUser = document.querySelector(\".signOut\");\nchangeUser.addEventListener(\"click\", signOut);\n\nfunction signOut() {\n  let proceed = false;\n  while (!proceed) {\n    let promptResult = prompt(\"Enter your username\");\n    if (promptResult === \"\") {\n      proceed = false;\n      alert(\"Username can not be blank\");\n    } else if (promptResult === null) {\n      cards = getCardsFromLocalStorage(userID) || [];\n\n      if (cards.length !== 0) {\n        renderCards(userID, cards);\n      }\n      proceed = true;\n    } else {\n      userID = promptResult;\n      proceed = true;\n    }\n  }\n\n  cards = getCardsFromLocalStorage(userID) || [];\n  renderCards(userID, cards);\n\n  if (cards === []) {\n    saveToLocalStorage(userID, cards);\n  }\n\n  if (cards.length !== 0) {\n    myRefresh();\n  }\n\n  if (userID !== \"default\") {\n    changeUser.textContent = `${userID}`;\n\n    changeUser.onmouseenter = function() {\n      changeUser.textContent = \"Change user\";\n    };\n\n    changeUser.onmouseleave = function() {\n      changeUser.textContent = `${userID}`;\n    };\n  }\n\n  signOut.called = true;\n}\n\nconst showMoreBtn = () => {\n  const show = document.querySelector(\".show-more\");\n  show.style.display = \"block\";\n  show.addEventListener(\"click\", () => {\n    const containerHeight = document.querySelector(\".cards-container\")\n      .offsetHeight;\n    const cardsHeight = document.querySelector(\".cards\").offsetHeight;\n    if (cardsHeight > containerHeight) {\n      document.querySelector(\n        \".cards-container\"\n      ).style.height = `${cardsHeight}px`;\n      show.style.display = \"none\";\n    }\n  });\n};\n\nform.addEventListener(\"submit\", function(e) {\n  submitMe(e);\n});\n\nfunction submitMe(e) {\n  e.preventDefault();\n  myRefresh();\n  const city = e.path[0].elements.cityName.value;\n\n  const check = cards.find(card => {\n    return card.name.toLowerCase() === city.trim().toLowerCase();\n  });\n  if (!city.trim()) {\n    alert(\"please insert correct city name\");\n    return null;\n  } else if (!!check) {\n    alert(\"this city already exists, enter something new :)\");\n    return null;\n  }\n  const urlWeather = endpoint.getByCityName(city);\n\n  fetchCity(urlWeather);\n\n  document.getElementById(\"myForm\").reset();\n  submitMe.called = true;\n  window.submitBtn = true;\n}\n\nrefresh.addEventListener(\"click\", myRefreshFunction);\n\nfunction myRefreshFunction() {\n  \n  myRefresh();\n  myRefreshFunction.called = true;\n}\n\nconst secondsBetweenActions = 20;\n\nlet secondsRemaining = secondsBetweenActions;\n\nsetInterval(function() {\n  updateStatus(secondsRemaining);\n  secondsRemaining--;\n  if (\n    myRefreshFunction.called === true ||\n    submitMe.called === true ||\n    signOut.called === true ||\n    objBtn.deleted\n  ) {\n    secondsRemaining = secondsBetweenActions;\n    myRefreshFunction.called = false;\n    submitMe.called = false;\n    signOut.called = false;\n    setDeletedFalse();\n  }\n  if (secondsRemaining <= 0) {\n    myRefresh();\n    secondsRemaining = secondsBetweenActions;\n  }\n}, 1000);\n\nlet enabled = true;\nfunction updateStatus(timer) {\n  if (enabled == true) {\n    refresh.textContent = `Update in: ${timer}`;\n  }\n}\n\nrefresh.onmouseenter = function() {\n  enabled = false;\n  refresh.textContent = \"Update now\";\n};\n\nrefresh.onmouseleave = function() {\n  enabled = true;\n};\n\nfunction myRefresh() {\n  cards = getCardsFromLocalStorage(userID);\n  \n  cards.forEach(card => {\n    let city = card.name;\n    const urlWeather = endpoint.getByCityName(city);\n    fetchCity(urlWeather);\n  });\n  cards.length = 0;\n  renderCards(userID, cards);\n  getLocation();\n}\n\nconst fetchCity = url => {\n  submit.style.display = \"none\";\n  loader.style.display = \"flex\";\n  getWeather(url)\n    .then(r => {\n      loader.style.display = \"none\";\n      submit.style.display = \"inline-block\";\n      if (r.cod === \"404\") {\n        throw new Error(r.message);\n      }\n      const date = new Date();\n      const card = {\n        ...r,\n        id: date.getTime(),\n        retrieved: `Updated on ${date.toLocaleString()}`\n      };\n      cards.push(card);\n      renderCards(userID, cards);\n      const containerHeight = document.querySelector(\".cards-container\")\n        .offsetHeight;\n      const cardsHeight = document.querySelector(\".cards\").offsetHeight;\n      if (cardsHeight > containerHeight) {\n        showMoreBtn();\n      }\n    })\n    .catch(e => {\n      console.log(e);\n      alert(\"Your city was not found, please check the spelling\");\n    });\n};\n\nif (cards.length !== 0) {\n  renderCards(userID, cards);\n}\n\nlet latitude;\nlet longitude;\n\nfunction getLocation() {\n  navigator.geolocation.getCurrentPosition(SendLocation);\n}\n\nfunction SendLocation(data) {\n  latitude = data.coords.latitude;\n  longitude = data.coords.longitude;\n\n  const urlCoord = endpointCoordOpenWeather.getByCoord(latitude, longitude);\n  fetchCoord(urlCoord);\n}\n\nfunction fetchCoord(url) {\n  fetch(url)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(result) {\n      coordResult(result);\n    })\n    .catch(error => {\n      console.log(\"klaida\", error);\n    });\n}\n\nconst body = document.querySelector(\"body\");\n\nconst icon = document.createElement(\"img\");\nicon.className = \"currLocIcon\";\ndocument.querySelector(\".currentInfo\").appendChild(icon);\n\nfunction coordResult(result) {\n  const { main, weather, name, id } = result;\n  let locCond = weather[0].main;\n  let locTemp = main.temp;\n  let locDesc = weather[0].description;\n  let locCity = name;\n  const iconCode = weather[0].icon;\n  switch (locCond) {\n    case \"Rain\":\n      body.style.background = `url(${rain})`;\n\n      body.style.backgroundSize = \"cover\";\n\n      break;\n    case \"Clear\":\n      body.style.background = `url(${clear})`;\n\n      body.style.backgroundSize = \"cover\";\n      break;\n    case \"Clouds\":\n      body.style.background = `url(${clouds})`;\n\n      body.style.backgroundSize = \"cover\";\n      break;\n  }\n\n  let currentTemp = document.querySelector(\".currentTemp\");\n  currentTemp.textContent = `${Math.round(locTemp)} ℃`;\n  let currentDesc = document.querySelector(\".currentDesc\");\n  currentDesc.textContent = `${locDesc}`;\n\n  icon.src = `http://openweathermap.org/img/wn/${iconCode}@2x.png`;\n  let currentCity = document.querySelector(\".currentCity\");\n  if (id === 6955406) {\n    locCity = \"Vilnius\";\n  }\n  currentCity.textContent = `${locCity}:`;\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}